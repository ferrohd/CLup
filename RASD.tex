\input{preamble}
\usepackage{clipboard}
\usepackage{listings}
\usepackage{assets/rasd/alloy/alloy-style}
\graphicspath{ {assets/rasd/} }

\titlepicture[width=0.75\textwidth]{../polimi_logo}
\title{Requirement Analysis and\\Specification Document}
\subtitle{Customers Line-up}
\author{\href{https://github.com/ferrohd}{Alessandro Ferrara} -
\href{https://github.com/lorenzofratus}{Lorenzo Fratus}}
\professor{Elisabetta di Nitto}
\date{January 28, 2021}
\version{1.1}

\begin{document}

\maketitle

\tableofcontents

\chapter{1. Introduction}

\section{A. Purpose}

This document focuses on Requirements Analysis and Specification
Document (RASD) and contains the description of the main goals, the domain and its representation through some models, the analysis of the scenario with the uses cases that describe them, the list of the most important requirements and specifications that characterize the development of the software described below.

It also includes the research about the interfaces, functional and non-functional requirements and the attributes that distinguish the quality of the system.

Finally, to understand better the development of the document, it contains the history that describes how it is made, with the references used and the description of its structure.

This document has the purpose to guide the developers in the realization of the software called Customers Line-up.

\section{B. Scope}

\subsection{B.1. Description of the given problem}

The software wants to foster a safe shopping experience by providing a customer flow control system. This system should allow the users to avoid crowds both inside and outside the stores. Customers Line-up offers two main functionalities:

\begin{itemize}
\item
  \textbf{Join a queue}: the customers can ``line up'' from their home, and then wait until their turn is coming to approach the store. In addition, the application is used to generate tickets that are scanned upon entering and leaving the store, thus allowing store managers to monitor the flow of customers.
  
\clearpage
\item
  \textbf{Book a visit}: the customers are able to book a visit at the store selecting one or more consecutive time slots. In this way they are able to avoid any waiting time at the entrance of the store. For long-term customers, the system is able to propose the number of time slots based on an analysis of the previous visits.
\end{itemize}

Clearly, for the application to effectively work in practice, all customers should use it to access the store, and this implies that:

\begin{itemize}
\item
  The software should be very simple to use to adapt to a wide range of users, therefore it must include all demographics.
\item
  The system should provide customers with a reasonably precise estimation of the waiting time and should be able to manage situations where a customer approaches the store with an acceptable delay.
\item
  The stores should still provide fallback options for those people who do not have access to the required technology, for example handing out physical tickets on the spot.
\end{itemize}

\subsection{B.2. Current system}

Customers Line-up is a new service that is approaching the market for the first time. The development of the system starts from scratch, for this reason no legacy system has been considered in our process.

\subsection{B.3. Goals}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
GX & Description of the goal \\ \addlinespace
\midrule
\endhead
\Copy{G1}{G1 & Allow a clupper to join a store queue without having to physically approach the store \\ \addlinespace}
\Copy{G2}{G2 & Allow a guest to join a store queue by requesting it to the store manager \\ \addlinespace}
\Copy{G3}{G3 & Allow a clupper to leave a store queue before entering \\ \addlinespace}
\Copy{G4}{G4 & Allow a clupper to book a visit to the store \\ \addlinespace}
\Copy{G5}{G5 & Allow a clupper to cancel a reservation to a store before entering \\ \addlinespace}
\Copy{G6}{G6 & Allow a clupper to approach at the right time the store he has a ticket for \\ \addlinespace}
\Copy{G7}{G7 & Allow a store manager to have an overview of the store \\ \addlinespace}
\Copy{G8}{G8 & Allow a store manager to regulate the entrances to the store \\ \addlinespace}
\Copy{G9}{G9 & Allow a store manager to regulate the exits from the store \\ \addlinespace}
\Copy{G10}{G10 & Allow a guest to leave a store queue before entering \\ \addlinespace}
\bottomrule
\end{longtable}

\subsection{B.4. Discarded features}

The assignment document contains an additional feature regarding the function called ``Book a visit'', we report here an excerpt:

\emph{``The application might also allow users to indicate, if not the exact list of items that they intend to purchase, the categories of items that they intend to buy. This would allow the application to plan visits in a finer way\ldots{}''}

After careful analysis, we decided to not include it in this document for the following reasons: 
\begin{itemize}
\item 
    This software is intended to be used in any store, to implement this functionality we should ask each store manager for the list of available products and their arrangement inside the building.
\item
    This functionality can have a positive influence on achieving the main goal of the system only if every customer is willing to use it. This result is nearly impossible to obtain, just think of the customers who do not have access to the required technologies or those who prefer not to communicate their purchase intentions.
\item
    Even if every customer used this functionality, the problem of avoiding crowds would recur in the common areas of the store (e.g.~checkout).
\item
    The presence of this feature may reduce the interest of stores in using our software. The customer may feel compelled to purchase only the previously declared products and this behavior would be against any supermarket marketing strategy.
\end{itemize}

\section{C. Definitions, acronyms and abbreviations}

\subsection{C.1. Definitions}

\begin{itemize}
\item
  \textbf{Visitor}: person which is not registered to the system but is performing the operations to register.
\item
  \textbf{User}: person which is correctly registered to the system, it abstracts the concepts of clupper and store manager.
\item
  \textbf{Customer}: person which wants to enter a store, it abstracts the concepts of clupper and guest.
\item
  \textbf{Clupper}: person (both user and customer) which is able to use the basic services offered by CLup (join a queue and book a visit).
\item
  \textbf{Guest}: person (customer) which is not registered to the system or that is currently unable to use the application, and therefore cannot take advantage of the services offered by CLup.
\item
  \textbf{Store manager}: person (user) which is able to use the managerial services offered by CLup.
\item
  \textbf{Store}: physical business registered to the system (by registering his store manager).
\item
  \textbf{Store capacity}: maximum number of customers allowed inside a store (according to the regulations currently in force it corresponds to half of the capacity of the building).
\item
  \textbf{Ticket}: QR code issued to a user as a receipt for queuing or booking at a store. It can be digital or physical and grants the access to the store based on the transaction that generated it.
\item
  \textbf{Valid ticket}: a ticket is valid if the store contained in it matches the one of the store manager which scanned it and:
  \begin{itemize}
  \tightlist
  \item
    the ticket is the first in the store queue, if the ticket has been generated by a ``Join a queue'' function;
  \item
    the time slots linked to the ticket include the current timestamp, if the ticket has been generated by a ``Book a visit'' function;
  \end{itemize}
\item
  \textbf{Booking/reservation}: digital ticket owned by a clupper to enter a store for one or more specific time slots.
\item
  \textbf{Queue}: imaginary list of tickets, bound to a store, ordered by their time of issue, it does not contain tickets of customers with a reservation.
\item
  \textbf{Time slot}: a half-hour time window.
\item
  \textbf{Free time slot}: a time slot is considered free if the store is open during that period and the number of reservations already acquired over that slot does not exceed a quarter of the capacity of the store.
\end{itemize}

\subsection{C.2. Acronyms}

\begin{itemize}
\item
  \textbf{RASD}: Requirement Analysis and Specification Document.
\item
  \textbf{GPS}: Global Positioning System.
\end{itemize}

\subsection{C.3. Abbreviations}

\begin{itemize}
\item
  \textbf{CLup}: Customers Line-up.
\item
  \textbf{Gx}: Goal number x.
\item
  \textbf{Dx}: Domain assumption number x.
\item
  \textbf{Rx}: Functional requirement number x.
\end{itemize}

\clearpage
\section{D. Revision history}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.10}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.45}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.45}}@{}}
\toprule
Version & Date & Description \\ \addlinespace
\midrule
\endhead
1.0 & 20 Dec 2020 & First version \\ \addlinespace
1.1 & 28 Jan 2021 & Added goal G10 \\ \addlinespace
\bottomrule
\end{longtable}

\section{E. Reference documents}

\begin{itemize}
\item
  Assignment document A.Y. 2020/2021 (``Requirement Engineering and Design Project: goal, schedule, and rules'')
\end{itemize}

\section{F. Document structure}

\begin{itemize}
\item
  \textbf{Section 1: Introduction}: The first section provides an introduction to the purpose of the document and the objectives of the project. Included here is an analysis of the context in which the system will operate, along with a glossary including definitions, acronyms and abbreviations used in this document.
\item
  \textbf{Section 2: Overall description}: This section opens with the description of some scenarios that demonstrate the possible uses of the application, followed by a description of the domain (done through class and state diagrams). Subsequently, the section includes the main functions of the application and the description of user characteristics. At the end of the section, the main assumptions relevant to the functioning of the system are then presented, divided into text and domain assumptions.
\item
  \textbf{Section 3: Specific requirements}: This part of the document provides more details, which may be useful to the development team, on the aspects presented in the previous section. Included here are the system requirements (both functional and non-functional) and their mapping to the goals presented in section 2. The specific use cases, developed here from the scenarios, are then enriched with different UML diagrams.
\item
  \textbf{Section 4: Formal analysis using Alloy}: This section includes the Alloy code accompanied by some of the worlds obtained by running it. A brief introduction clarifies the goal of the modeling activity itself.
\item
  \textbf{Section 5: Effort spent}: This section includes information on the number of hours each group member worked for this document.
\end{itemize}

\chapter{2. Overall description}

\section{A. Product perspective}

\subsection{A.1. Scenarios}

\subsubsection{A.1.1. Scenario 1}

The project manager has left the call with his team to answer another phone call, once again, so Kevin and his colleagues have a chance of taking a break.

Beatrix starts talking about this new software called Customers Line-up and how useful it is and since Kevin was already planning to go to the supermarket after work, he decides to give it a try.

The registration process is very simple, as she said, just go to the website, insert your data, and you are in!\\
After selecting the nearest store on the map, Kevin decides to book an half hour visit from 7 pm; the whole process took just a few minutes just as long as he had before he went back to work.

At 6:45 pm the meeting is finally over and Kevin is so tired that he would rather order something from his favorite restaurant than go to the shop, so he logs into CLup again and goes to the page called ``Bookings'' where he finds his ticket and deletes it.\\
Sorry Beatrix, I will try it another day, he thinks.

\subsubsection{A.1.2. Scenario 2}

Glancing out of the shop, Constance realizes that the queue has become absurdly long, managing customers has become increasingly difficult since the beginning of the emergency.\\
She was afraid of introducing new software to her store, but she has to find a solution and, in any case, the service she has seen advertised in recent weeks, CLup, seems very simple to use and almost every store in the neighborhood is adopting it.

\clearpage
That evening, after closing, Constance takes out her phone to register to the system, all she has to do is enter some details about herself and her business.\\
She already has all the necessary equipment, so the only things left to do is inform her employees of the news and put up a sign to let customers know.

The next day Lucas is in charge of managing the flow of customers, all he has to do is pick up his phone and log into the system using the store credentials. Now he can get a complete overview of the store and start welcoming customers.

\subsubsection{A.1.3. Scenario 3}

Jonathan looks at his watch, it is already 11:30 and his pantry is almost empty, it will be better to fill it up quickly!

He takes out his smartphone and, after logging into CLup using his credentials, he can join the queue of his favorite neighborhood store, all while dressing up.\\
The waiting time is about 15 minutes, just enough to put on his shoes, wear a mask and take a walk to the supermarket.

Once at the store, Jonathan goes to the page called ``Queue'' and sees that he is the next to enter.\\
As soon as Chad, the store manager, greets one customer and calls the next, Jonathan approaches him with his phone already unlocked.\\
Chad clicks the ``Scan Ticket'' button, points the camera at the customer's device and, after confirming that the ticket is valid, lets him in.

After paying for his groceries, Jonathan heads to the exit where he already knows he will have to show his ticket to Chad again before running home to prepare lunch.

\subsubsection{A.1.4. Scenario 4}

Clarice is an elderly lady and not very good with technology, she has an old phone without a data plan because she doesn't surf the web very often, and when she does she is together with her grandson Award.

She needs to buy groceries but due to the current situation her neighborhood supermarket has introduced a system called the Customers Line-up and she doesn't feel confident about upgrading her equipment.\\
In this regard, Award told her not to worry because she can simply ask the manager for a ticket and that she has to wait her turn even if she is the only one outside the store.

Clarice doesn't understand this technology, but she trusts her grandson and after arriving at the shop she kindly asks the boy at the entrance if she can enter.\\
The boy nods and she can see him click on the PC before handing her a paper ticket with a strange symbol on it.\\
After a few minutes, Clarice is called by the boy who photographs the ticket and explains to keep it with her until the exit.

\subsection{A.2. Class diagram}

\begin{figure}
\centering
\includegraphics{class_diagram/class_diagram_rasd}
\caption{Class diagram}
\end{figure}

\subsection{A.3. State diagrams}

\subsubsection{A.3.1. Ticket state}

\begin{figure}[H]
\centering
\includegraphics{state_diagrams/ticket_state}
\caption{Ticket state}
\end{figure}

\subsubsection{A.3.2. Store state}

\begin{figure}[H]
\centering
\includegraphics{state_diagrams/store_state}
\caption{Store state}
\end{figure}

\subsubsection{A.3.3. Time slot state}

\begin{figure}[H]
\centering
\includegraphics{state_diagrams/time_slot_state}
\caption{Time slot state}
\end{figure}

\clearpage
\section{B. Product functions}

\subsection{B.1. Join a queue (digital) - Basic service}

This function allows a clupper to line up for the desired store without having to immediately reach the store. After selecting a supermarket from the map (searching around his GPS location or any address) the clupper will be able to see its details (name, address, number of customers already in line) and to join the queue. The system will provide the clupper with a digital ticket, which he will be able to see directly from the application. Finally, the clupper is able to leave the queue at any time before entering the store, this results in the deletion of his ticket.

\subsection{B.2. Book a visit - Basic service}

This function allows a clupper to book a visit to the desired store, thus avoiding the queuing process. After selecting a supermarket from the map (searching around his GPS location or any address) the clupper will be able to see its details (name, address, number of customers already in line) and to add a reservation. The system will request the clupper to select one or more consecutive time slots and will provide him with a digital ticket, which he will be able to see directly from the application. Finally, the clupper is able to cancel his reservation at any time before entering the store, this results in the deletion of his ticket and the release of the acquired time slots.

\subsection{B.3. Join a queue (physical) - Managerial service}

This function is a fallback of the first one, indeed, it allows the store manager to insert into the queue any guest requesting it. The system will provide the store manager with a digital ticket, which he will have to convert into physical (e.g.~by printing it) and hand out to the guest. Finally, the guest is able to leave the queue at any time before entering the store, by asking the store manager to delete his ticket.

\subsection{B.4. Store overview - Managerial service}

This function allows a store manager to have a live overview of the store. The system will provide the store manager with the number of customers inside the store (compared to the capacity), those in the store queue and those with a reservation for the current time slot (that have not entered the store yet). This data should allow him to regulate the flow of customers.

\clearpage
\subsection{B.5. Ticket scan - Managerial service}

This function allows a store manager to scan (and validate) a customer's ticket (both at the entrance and the exit of the store). This has the double purpose of updating the data contained into the store overview, and make sure that the flow of customers corresponds to that expected by the system (no one should be able to enter before his turn).

\section{C. User characteristics}

\subsection{C.1. Clupper}

Anyone who wants to become a clupper can do so by registering and entering his personal information.\\
The main goal of a clupper is to avoid having to wait for his turn near a store, thus reducing the risk of COVID infection.\\
To do so, the system offers a set of functions (called ``basic services'') with which he is able to join a queue from wherever he wants or to book a visit to enter the supermarket at a specific time.

\subsection{C.2. Store manager}

Due to the higher privileges offered to him by the system, to become a store manager a person shall enter, during the registration process, specific information about his work place (thus adding the store to the system).\\
The goal of a store manager is to avoid crowds inside the building by limiting the flow of customers (to comply with current regulations).\\
To do so the system offers a set of functions (called ``managerial services'') with which he is able to have an overview of the customers dealing with the store and to approve their entrances.

\subsection{C.3. Other stakeholders}

As explained in the previous sections, the system shall be able to provide fallback options for customers that need to enter a store but do not have access to the application. We define as \emph{guest} any person who:
\begin{itemize}
\tightlist
\item
    Is not registered to the system (regardless of whether they have access to the required technology or not);
\item
    Is registered to the system but is currently unable to use the application (e.g.~no device with him, dead battery, no internet connection, \ldots);
\end{itemize}

The goal of a guest is the same as that of a clupper (the risk of infection is technically lower due to the fact that the majority of customers should be cluppers).\\
By definition, a guest cannot directly take advantage of the services offered by the system, for this reason he must relate with the store manager.

\clearpage
\section{D. Assumptions, dependencies and constraints}

In order to better clarify the presentation and avoid any ambiguities we decided to introduce the following assumptions.

\subsection{D.1. Text assumptions}

\begin{itemize}
\item
  Credentials that a person has to provide to become a clupper are: name, surname, email and password.
\item
  Credentials that a person has to provide to become a store manager are: name, surname, email and password. He must also provide information about the store: name, address, VAT number, maximum capacity and opening time.
\item
  Credentials that a user has to provide to login are: email and password.
\item
  A User with a reservation can enter the store at any time during the booked time slots.
\end{itemize}

\subsection{D.2. Domain assumptions}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
DX & Description of the domain assumption \\ \addlinespace
\midrule
\endhead
\Copy{D1}{D1 & The information provided by a user during the registration process is valid \\ \addlinespace}
\Copy{D2}{D2 & The positions retrieved by GPS are always correct \\ \addlinespace}
\Copy{D3}{D3 & The store manager will always add to the store queue any guest requesting it \\ \addlinespace}
\Copy{D4}{D4 & The store manager will always grant the precedence of a customer with a reservation over those in the queue \\ \addlinespace}
\Copy{D5}{D5 & The store manager will always keep enough space inside the store to accommodate the users with a reservation \\ \addlinespace}
\Copy{D6}{D6 & At any time during the visit to a store, the customer shall be able to show the ticket with which he entered to the store manager \\ \addlinespace}
\Copy{D7}{D7 & A clupper with a reservation should leave the store before the end of the acquired time slots \\ \addlinespace}
\Copy{D8}{D8 & A customer is not able to enter a store before providing a valid ticket to the store manager \\ \addlinespace}
\Copy{D9}{D9 & A customer is not able to leave a store before providing a valid ticket to the store manager \\ \addlinespace}
\Copy{D10}{D10 & The store manager will always remove from the store queue any guest requesting it \\ \addlinespace}
\bottomrule
\end{longtable}

\chapter{3. Specific requirements}

\section{A. External interface requirements}

\subsection{A.1. User interfaces}

The following mock-ups represent an idea of what the application shall look like in the first release.

\begin{figure}[H]
    \centering
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/home}
        \caption*{Home page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/sign_in}
        \caption*{Sign in page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/sign_up}
        \caption*{Sign up page}
    \end{subfigure}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/map}
        \caption*{Map page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/store}
        \caption*{Store page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/queue}
        \caption*{Queue page}
    \end{subfigure}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/book}
        \caption*{New reservation page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/bookings}
        \caption*{Bookings page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/reservation}
        \caption*{Reservation page}
    \end{subfigure}
\end{figure}

\begin{figure}[H]
    \centering
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/store_overview}
        \caption*{Store overview page}
    \end{subfigure}
    \quad
    \begin{subfigure}[t]{0.28\textwidth} 
        \includegraphics{../mockups/print_ticket}
        \caption*{Issued ticket page}
    \end{subfigure}
\end{figure}

\subsection{A.2. Hardware interfaces}

The system requires each clupper to have at least one mobile device (such as a smartphone or tablet) that will be used to exhibit the ticket to the store manager.\\
The clupper can perform the operations to obtain a ticket also from a PC of any kind that will however not be sufficient to have access to the store.

The store manager needs a mobile device or a PC equipped with a camera to scan the tickets and a printer of any kind to hand out tickets to the guests.

\subsection{A.3. Software interfaces}

CLup is a web application, for this reason a relatively modern web browser is sufficient in order to render the application.

\subsection{A.4. Communication interfaces}

To perform any operation in the application, an internet connection (WiFi or mobile) is required.\\
When a clupper has queued-up or has booked for a visit, can interrupt the connection without losing the place in the queue or the booking (he will not have access to the live information such as place in the queue or expected waiting time).

A store manager always needs a stable internet connection in order to have access to the managerial services.

\section{B. Functional requirements}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
RX & Description of the functional requirement \\ \addlinespace
\midrule
\endhead
\Copy{R1}{R1 & A person is able to register to the system as a user. During the process, the system will ask him to provide the information required for the specific type of user \\ \addlinespace}
\Copy{R2}{R2 & The system is able to verify that the email provided by a person during the registration process is unique \\ \addlinespace}
\Copy{R3}{R3 & The system is able to verify that the VAT number provided by a store manager during the registration process is unique \\ \addlinespace}
\Copy{R4}{R4 & The system is able to create a new store after the registration of store manager \\ \addlinespace}
\Copy{R5}{R5 & A user is able to log into the system by entering his personal credentials \\ \addlinespace}
\Copy{R6}{R6 & The system is able to generate a new ticket after receiving a request \\ \addlinespace}
\Copy{R7}{R7 & A clupper is able to join at most one queue at any time (for any store) \\ \addlinespace}
\Copy{R8}{R8 & The system is able to insert a ticket into a store queue \\ \addlinespace}
\Copy{R9}{R9 & The system is able to remove a ticket from a store queue \\ \addlinespace}
\Copy{R10}{R10 & A clupper is able to select as many consecutive free time slots as he wants while booking a visit to a store \\ \addlinespace}
\Copy{R11}{R11 & A clupper cannot have multiple reservations in the same time slots \\ \addlinespace}
\Copy{R12}{R12 & The system is able to retrieve the list of free time slots for each store \\ \addlinespace}
\Copy{R13}{R13 & The system is able to acquire the selected free time slots when creating a new reservation to a store \\ \addlinespace}
\Copy{R14}{R14 & The system is able to release the time slots acquired by a reservation when a clupper cancels it \\ \addlinespace}
\Copy{R15}{R15 & The system is able to notify a clupper the time in which he should approach the store \\ \addlinespace}
\Copy{R16}{R16 & A clupper is able to retrieve a previously obtained ticket \\ \addlinespace}
\Copy{R17}{R17 & A store manager is able to change the maximum store capacity at any time \\ \addlinespace}
\Copy{R18}{R18 & The system is able to infer the number of time slots to be proposed to a clupper when booking a visit to the store \\ \addlinespace}
\Copy{R19}{R19 & A store manager is able to scan a customer's ticket at the entrance of the store before letting him in only if the number of customers currently inside does not exceed its maximum capacity \\ \addlinespace}
\Copy{R20}{R20 & A store manager is always able to scan a customer's ticket at the exit of the store before letting him out \\ \addlinespace}
\Copy{R21}{R21 & The system is able to perform a validity check on a ticket scanned by a store manager and to inform him about the result \\ \addlinespace}
\Copy{R22}{R22 & The system is able to remove a customer's ticket from the store queue when it is scanned at the entrance \\ \addlinespace}
\Copy{R23}{R23 & The system is able to invalidate a customer's ticket when it is scanned at the exit \\ \addlinespace}
\Copy{R24}{R24 & The system is able to retrieve the customer's GPS location \\ \addlinespace}
\Copy{R25}{R25 & The system is able to retrieve the GPS location from a specific address \\ \addlinespace}
\Copy{R26}{R26 & The system is able to estimate the distance between two GPS locations \\ \addlinespace}
\Copy{R27}{R27 & The system is able to get a list of stores around a GPS location \\ \addlinespace}
\Copy{R28}{R28 & The system is able to retrieve the name and GPS location of a store \\ \addlinespace}
\Copy{R29}{R29 & The system is able to retrieve the position of a clupper in a store queue \\ \addlinespace}
\Copy{R30}{R30 & The system is able to estimate the waiting time for a clupper in a store queue \\ \addlinespace}
\Copy{R31}{R31 & The system is able to retrieve the number of customers currently in a store queue \\ \addlinespace}
\Copy{R32}{R32 & The system is able to retrieve the number of customers currently inside a store \\ \addlinespace}
\Copy{R33}{R33 & The system is able to retrieve the number of reservations for a store during the current time slot \\ \addlinespace}
\Copy{R34}{R34 & The system is able to retrieve the list of tickets in the queue issued by a store manager \\ \addlinespace}
\bottomrule
\end{longtable}

\clearpage
\subsection{B.1. Use cases}

\footnotesize
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
VisitorRegisters & \\ \addlinespace
\midrule
\endhead
Actors & Visitor \\ \addlinespace
Goals & G1, G4, G7 \\ \addlinespace
Input conditions & The visitor is already on the home page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The visitor clicks on the ``Sign Up'' button to start the registration process.
    \item The visitor inserts his information in the mandatory fields.
    \item The visitor clicks the ``Register'' button.
    \item The system stores the inserted data.
    \item The system redirects the visitor to the login page.
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The visitor successfully ends the registration process and becomes a CLup user. From now on he can login to the application providing his credentials and use CLup. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The provided email is already registered.
    \item The visitor inserts not valid information in one or more mandatory fields.
\end{enumerate}
All exceptions are handled notifying the issue to the visitor and taking back the events flow to the point 2. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
UserLogsIn & \\ \addlinespace
\midrule
\endhead
Actors & User \\ \addlinespace
Goals & G1, G2, G3, G4, G5, G6, G7, G8, G9 \\ \addlinespace
Input conditions & The user is already on the home
page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The user clicks on the ``Sign In'' button to start the login process.
    \item The User inserts his email and password into the corresponding fields.
    \item The user clicks the ``Login'' button.
    \item The system redirects the user to the map page.
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The user successfully logs in. From now on he can use the CLup services. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The inserted email is not valid.
    \item The inserted password is not valid.
\end{enumerate}All exceptions are handled notifying the issue to the user and taking back the events flow to the point 2. \\ \addlinespace
Alternatives & If the user is a store manager: 4. The system redirects the user to the overview page. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
ClupperSelectsStore & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G1, G4 \\ \addlinespace
Input conditions & The clupper is already logged in and on the map page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper inserts an address or clicks on the ``Current Position'' button.
    \item The system retrieves the GPS location and loads the stores on the map.
    \item The clupper looks at the map and selects one of the available stores.
    \item The system redirects the clupper to the store page. 
\vspace{-1.0\baselineskip}\end{enumerate}\\ \addlinespace
Output conditions & The clupper successfully selects the store. Now he can see its details, queue up or book a visit for it. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The system does not contain any store.
\end{enumerate} All exceptions are handled notifying the issue to the clupper and redirecting him to the map page. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
ClupperJoinsQueue & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G1 \\ \addlinespace
Input conditions & The clupper is already logged in, has chosen the desired store and is on its page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper clicks on the ``Line Up'' button on the store page.
    \item The system generates a ticket and adds it to the store queue.
    \item The system redirects the clupper to the queue page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The clupper is successfully in the store queue. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper is already in a queue.
\end{enumerate} All exceptions are handled notifying the issue to the clupper and redirecting him to the map page. \\ \addlinespace
\bottomrule
\end{longtable}

\clearpage
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
ClupperLeavesQueue & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G3 \\ \addlinespace
Input conditions & The clupper is already logged into the system and in the queue page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper clicks on the ``Leave the Queue'' button.
    \item The system removes the clupper's ticket from the store queue and deletes it.
    \item The system redirects the clupper to the map page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The clupper is no longer in the store queue. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper is not currently in a queue.
\end{enumerate} All exceptions are handled notifying the issue to the clupper and redirecting him to the queue page. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
ClupperWatchesTicketDetails & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G6, G8, G9 \\ \addlinespace
Input conditions & The clupper is already logged in. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper goes to the queue page or the bookings page depending on the type of ticket that he wants to watch.
    \item If the clupper is in the reserviations page, he selects a ticket from the list of bookings.
    \item The system fetches the details of the selected ticket.
    \item The system redirects the clupper to the ticket page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The clupper can see ticket details. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
\item The clupper is not currently in a queue. 
\item The clupper doesn't have an active booking.
\end{enumerate} All exceptions are handled notifying the issue to the clupper and redirecting him to the queue page. \\ \addlinespace
\bottomrule
\end{longtable}

\clearpage
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
ClupperBooksVisit & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G4 \\ \addlinespace
Input conditions & The clupper is already logged in, has chosen the desired store and is on its page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper clicks on the ``Book a Visit'' button on the store page.
    \item The clupper selects one or more avaiable time slots.
    \item The system generates a ticket and acquires the selected time slots.
    \item The system redirects the clupper to the bookings page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The clupper has a reservation for the store. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper has already a reservation during one of the selected time slots.
    \item One or more of the selected time slots is not free.
\end{enumerate} All exceptions are handled notifying the issue to the clupper and taking back the events flow to the point 2. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.21}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.79}}@{}}
\toprule
ClupperCancelsVisit & \\ \addlinespace
\midrule
\endhead
Actors & Clupper \\ \addlinespace
Goals & G5 \\ \addlinespace
Input conditions & The clupper is already logged into the system and in the bookings page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper looks at the list of active reservations.
    \item The clupper selects the booking he wants to cancel.
    \item The clupper clicks on the ``Cancel Booking'' button.
    \item The system removes the clupper's ticket from the store reservations and deletes it.
    \item The system redirects the clupper to the bookings page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The clupper has no longer a reservation for that store. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The clupper does not have a reservation for that store.
\end{enumerate}All exceptions are handled notifying the issue to the clupper and redirecting him to the bookings page. \\ \addlinespace
\bottomrule
\end{longtable}

\clearpage
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
StoreManagerPrintsTicket & \\ \addlinespace
\midrule
\endhead
Actors & Store manager, Guest \\ \addlinespace
Goals & G2 \\ \addlinespace
Input conditions & The store manager is already logged into the system and in the overview page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The guest approaches the store manager asking for a ticket.
    \item The store manager clicks on the ``Issue Ticket'' button.
    \item The system generates a ticket and adds it to the store queue.
    \item The system redirects the store manager to the ticket page.
    \item The store manager clicks on the ``Print Ticket'' button 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The store manager is able to print the newly issued ticket and hand it out to the guest. \\ \addlinespace
Exceptions & \emph{None} \\ \addlinespace
Special Requirements & The Store Manager's device must be connected to a printer. \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
StoreManagerScansTicket & \\ \addlinespace
\midrule
\endhead
Actors & Store manager, Customer \\ \addlinespace
Goals & G8, G9 \\ \addlinespace
Input conditions & The store manager is already logged into the system and in the overview page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The store manager clicks on the ``Scan Ticket'' button.
    \item The store manager uses the device camera to scan the customer's ticket.
    \item The system validates and removes the ticket from the store queue or the list of reservations.
    \item The system updates the store overview data.
    \item The system redirects the store manager to the overview page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The store manager can let the customer in/out. The store overview has been updated. \\ \addlinespace
Exceptions & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The store has reached its maximum capacity and cannot allow any other customer inside.
    \item The ticket is invalid.
\end{enumerate} All exceptions are handled notifying the issue to the Store Manager and redirecting him to the overview page. \\ \addlinespace
Special Requirements & The Store Manager's device must be connected to a camera. \\ \addlinespace
\bottomrule
\end{longtable}

\clearpage
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
StoreManagerGetsOverview & \\ \addlinespace
\midrule
\endhead
Actors & Store manager \\ \addlinespace
Goals & G7 \\ \addlinespace
Input conditions & The store manager is already logged into the system and in the overview page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The system loads up the details about the store and displays it into the overview page. 
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The store manager is able see the details about his store. \\ \addlinespace
Exceptions & \emph{None} \\ \addlinespace
\bottomrule
\end{longtable}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.25}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.75}}@{}}
\toprule
StoreManagerDeletesTicket & \\ \addlinespace
\midrule
\endhead
Actors & Store manager, Guest \\ \addlinespace
Goals & G10 \\ \addlinespace
Input conditions & The store manager is already logged into the system and in the overview page. \\ \addlinespace
Events flow & \begin{enumerate}\vspace{-1.35\baselineskip}
    \item The guest approaches the store manager asking to delete his ticket.
    \item The store manager clicks on the ``Tickets List'' button.
    \item The system redirects the store managet to the tickets list page.
    \item The store manager selects the ticket to delete.
    \item The system deletes the selected ticket and redirects the store manager to the overview page.
\vspace{-1.0\baselineskip}\end{enumerate} \\ \addlinespace
Output conditions & The guest is no longer in the queue. \\ \addlinespace
Exceptions & \emph{None} \\ \addlinespace
\bottomrule
\end{longtable}
\normalsize

\subsection{B.2. Use case diagrams}

\subsubsection{B.2.1. Visitor}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{use_cases/use_case_visitor_registration}
\caption{Visitor}
\end{figure}

\subsubsection{B.2.2. User}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{use_cases/use_case_user}
\caption{User}
\end{figure}

\subsubsection{B.2.2. Store manager}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{use_cases/use_case_store_manager}
\caption{Store manager}
\end{figure}

\subsection{B.3. Sequence diagrams}

\subsubsection{B.3.1. Visitor registration}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_visitor_registration}
\caption{Visitor registration}
\end{figure}

\subsubsection{B.3.2. User login}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_user_login}
\caption{User login}
\end{figure}

\subsubsection{B.3.3. User queue up}

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{sequence_diagrams/sequence_diagram_user_queue_up}
\caption{User queue up}
\end{figure}

\subsubsection{B.3.4. User leave queue}

\begin{figure}[H]
\centering
\includegraphics[width=0.75\textwidth]{sequence_diagrams/sequence_diagram_user_leave_queue}
\caption{User leave queue}
\end{figure}

\subsubsection{B.3.5. User book a visit}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_user_booking}
\caption{User book a visit}
\end{figure}

\subsubsection{B.3.6. User cancel booking}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_user_cancel_booking}
\caption{User cancel booking}
\end{figure}

\subsubsection{B.3.7. Store manager issue ticket}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_store_manager_issue_ticket}
\caption{Store manager issue ticket}
\end{figure}

\subsubsection{B.3.8. Store manager scan ticket}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_store_manager_scan_ticket}
\caption{Store manager scan ticket}
\end{figure}

\subsubsection{B.3.9. Store manager delete ticket}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{sequence_diagrams/sequence_diagram_store_manager_cancel_ticket}
\caption{Store manager delete ticket}
\end{figure}

\clearpage
\subsection{B.4. Mapping on requirements}

\subsubsection{B.4.1. Goal 1}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G1}
\midrule
\endhead
\Paste{D1}
\Paste{D2}
\Paste{R1}
\Paste{R2}
\Paste{R5}
\Paste{R6}
\Paste{R7}
\Paste{R8}
\Paste{R24}
\Paste{R25}
\Paste{R26}
\Paste{R27}
\Paste{R28}
\Paste{R31}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.2. Goal 2}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G2}
\midrule
\endhead
\Paste{D1}
\Paste{D3}
\Paste{R5}
\Paste{R6}
\Paste{R8}
\bottomrule
\end{longtable}

\subsubsection{B.4.3. Goal 3}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G3}
\midrule
\endhead
\Paste{D1}
\Paste{R5}
\Paste{R9}
\Paste{R16}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.4. Goal 4}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G4}
\midrule
\endhead
\Paste{D1}
\Paste{D2}
\Paste{R1}
\Paste{R2}
\Paste{R5}
\Paste{R6}
\Paste{R10}
\Paste{R11}
\Paste{R12}
\Paste{R13}
\Paste{R18}
\Paste{R24}
\Paste{R25}
\Paste{R26}
\Paste{R27}
\Paste{R28}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.5. Goal 5}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G5}
\midrule
\endhead
\Paste{D1}
\Paste{R5}
\Paste{R14}
\Paste{R16}
\bottomrule
\end{longtable}

\subsubsection{B.4.6. Goal 6}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G6}
\midrule
\endhead
\Paste{D1}
\Paste{D2}
\Paste{R5}
\Paste{R15}
\Paste{R24}
\Paste{R26}
\Paste{R28}
\Paste{R29}
\Paste{R30}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.7. Goal 7}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G7}
\midrule
\endhead
\Paste{D1}
\Paste{R1}
\Paste{R2}
\Paste{R3}
\Paste{R4}
\Paste{R5}
\Paste{R31}
\Paste{R32}
\Paste{R33}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.8. Goal 8}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G8}
\midrule
\endhead
\Paste{D1}
\Paste{D4}
\Paste{D5}
\Paste{D8}
\Paste{R5}
\Paste{R16}
\Paste{R17}
\Paste{R19}
\Paste{R21}
\Paste{R22}
\bottomrule
\end{longtable}

\clearpage
\subsubsection{B.4.9. Goal 9}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G9}
\midrule
\endhead
\Paste{D1}
\Paste{D6}
\Paste{D7}
\Paste{D9}
\Paste{R5}
\Paste{R16}
\Paste{R20}
\Paste{R21}
\Paste{R23}
\bottomrule
\end{longtable}

\subsubsection{B.4.10. Goal 10}
\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}@{}}
\toprule
\Paste{G10}
\midrule
\endhead
\Paste{D1}
\Paste{D10}
\Paste{R5}
\Paste{R9}
\Paste{R29}
\Paste{R34}
\bottomrule
\end{longtable}

\clearpage
\section{C. Performance requirements}

The system must be able to handle a great number of concurrent requests especially during peak times (typically lunch and dinner).\\
We are planning to launch this service in Milan (1.35 million people), so we can size the system to handle, at least in the first year, 750.000 users with a maximum of 125.000 simultaneous connections.

\section{D. Design constraints}

\subsection{D.1. Standards compliance}

The code should follow the requirements contained in this document. Minor deviations are permitted but not advised.

\subsection{D.2. Hardware limitations}

The first implementation of CLup will include only a web application available for any modern browser able to retrieve a clupper's GPS location.\\
The store manager's device must be equipped with a camera to be able to scan customer tickets. The store must also be provided with a printer to print tickets, thus allowing their distribution to guests.

\clearpage
\section{E. Software system attributes}

\subsection{E.1. Reliability and availability}

The estimated waiting time in the queue should be as close as possible to the ideal one.\\
The count of reservations for every time slot must be correct to avoid overbooking with the effect of letting people wait outside the store or letting them inside violating the capacity limit. The presence of CLup in the everyday life enforces regulations aimed to prevent the spreading of the pandemic. In any case a limited period of downtime is admissible outside of the most common opening time of the stores. A 95\% uptime is plausible so the MTTR must be contained in \textasciitilde18 days a year. In order to comply the required uptime the system must be supported by an appropriate infrastructure composed of redundant services.

\subsection{E.2. Security}

The CLup application is not involved in any payment process, so no critical information is stored nor used.\\
Regarding the data that the users provides (e.g.~GPS location, personal or contact information), none of those will be used for purposes outside the CLup scope.\\
Common security standards should be implemented in the management and storage of private data. The system must also ensure that each user can have access only to the features provided for their category.

\subsection{E.3. Maintainability}

The system must be written in a widely used programming language and must ensure a high level of maintainability. Code must be written following standards with high level of abstractions without hard-code as well and must be highly commented in any aspect. Code must provide testing routine that covers at least 85\% of the entire code, excluding software interface. The system has also to be built considering a future expansion, guaranteeing an high level of scalability both on the number of store and the available cities.

\subsection{E.4. Portability}

The software must be available from the vast majority of the devices to meet the need of having a wide spread application. To do so the system must be independent from the operating system of the single device.

\chapter{4. Formal analysis using Alloy}

This section is dedicated to the Alloy model of the Customers Line-up software. In this model we have described the main components of the system together with their relationships and their (most important) properties.\\
In particular, the purpose of this section is to validate the consistency of the world generated by the union of the previous assumptions and requirements, with the help of this specification language.\\
In order to improve readability, we have introduced some minor assumptions that we are sure will not interfere with our goal.

\section{A. Alloy code}

\lstinputlisting[language=alloy]{assets/rasd/alloy/clup.als}

\section{B. Execution result}

\begin{figure}[H]
\centering
\includegraphics{alloy/execution_result}
\caption{Execution result}
\end{figure}

\section{C. Generated worlds}

\subsection{C.1. World 1}

\begin{figure}[H]
\centering
\includegraphics{alloy/world_1}
\caption{World 1}
\end{figure}

\subsection{C.2. World 2}

\begin{figure}[H]
\centering
\includegraphics{alloy/world_2}
\caption{World 2}
\end{figure}

\chapter{5. Effort spent}

\section*{Pair programming}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.9}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1}}@{}}
\toprule
Topic & Hours \\ \addlinespace
\midrule
\endhead
Discussion on the first part & 1.5h \\ \addlinespace
First and second part & 2.5h \\ \addlinespace
Second and third part & 2.5h \\ \addlinespace
Domain assumption, functional requirements and mapping & 2.0h \\ \addlinespace
Structure adaptation, edit on previous parts, more on third part & 2.5h \\ \addlinespace
Scenarios and use cases & 3.0h \\ \addlinespace
Overall RASD revision & 3.5h \\ \addlinespace
Scenarios and use cases revision & 1.5h \\ \addlinespace
Alloy & 2.0h \\ \addlinespace
RASD 1.1 revision & 1.0h \\ \addlinespace
\bottomrule
\end{longtable}

\section*{Ferrara Alessandro}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2}}@{}}
\toprule
Topic & Hours \\ \addlinespace
\midrule
\endhead
Sequence Diagrams & 3.0h \\ \addlinespace
Use Cases & 1.0h \\ \addlinespace
Alloy & 2.0h \\ \addlinespace
\bottomrule
\end{longtable}

\clearpage
\section*{Fratus Lorenzo}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8}}
  >{\raggedleft\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.2}}@{}}
\toprule
Topic & Hours \\ \addlinespace
\midrule
\endhead
Mockup UI & 4.0h \\ \addlinespace
State diagrams & 2.0h \\ \addlinespace
Scenarios & 1.5h \\ \addlinespace
Alloy & 6.0h \\ \addlinespace
RASD revision & 1.0h \\ \addlinespace
\bottomrule
\end{longtable}

\chapter{6. References}

\begin{itemize}
\item
  Software Engineering II course slides
\item
  \href{https://www.gazzettaufficiale.it/atto/vediPermalink?atto.dataPubblicazioneGazzetta=2020-11-09\&atto.codiceRedazionale=20G00170\&tipoSerie=serie_generale\&tipoVigenza=originario\&tipoProvvedimento=*}{Decreto Ministeriale}
\end{itemize}

\end{document}
